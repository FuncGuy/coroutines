<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_191) on Fri Oct 26 16:07:41 CEST 2018 -->
<title>Coroutine (coroutines 0.9.0 API)</title>
<meta name="date" content="2018-10-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Coroutine (coroutines 0.9.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../de/esoco/coroutine/Coroutine.Subroutine.html" title="class in de.esoco.coroutine"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?de/esoco/coroutine/Coroutine.html" target="_top">Frames</a></li>
<li><a href="Coroutine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">de.esoco.coroutine</div>
<h2 title="Class Coroutine" class="title">Class Coroutine&lt;I,O&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.obrel.core.RelatedObject</li>
<li>
<ul class="inheritance">
<li>de.esoco.coroutine.Coroutine&lt;I,O&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>de.esoco.lib.property.Fluent&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="class in de.esoco.coroutine">Coroutine</a>&lt;I,O&gt;&gt;, org.obrel.core.FluentRelatable&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="class in de.esoco.coroutine">Coroutine</a>&lt;I,O&gt;&gt;, org.obrel.core.Relatable</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../de/esoco/coroutine/Coroutine.Subroutine.html" title="class in de.esoco.coroutine">Coroutine.Subroutine</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Coroutine&lt;I,O&gt;</span>
extends org.obrel.core.RelatedObject
implements org.obrel.core.FluentRelatable&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="class in de.esoco.coroutine">Coroutine</a>&lt;I,O&gt;&gt;</pre>
<div class="block">A pure Java implementation of cooperative concurrency, also known as
 coroutines. Coroutines implement lightweight multiprocessing where all
 running coroutines share the available execution threads, shortly suspending
 execution between processing steps to give other coroutines the chance to
 execute. Furthermore coroutines can suspend their execution indefinitely when
 waiting for other coroutines or external resources (e.g. data to be sent or
 received), giving other code the chance to use the available threads.

 <p>To achieve this functionality, the implementation makes use of several
 modern Java features of which some are available starting with Java 8. The
 execution of coroutine steps is done with <code>CompletableFuture</code> which in
 turn runs the code by default in the <code>common
 thread pool</code> defined in the <code>ForkJoinPool</code> class. But if necessary the
 <code>Executor</code> used for running coroutines can be changed.</p>

 <p>To provide a fluent and readable declaration the API makes extensive use
 of the new functional programming features of Java and the (recommended) use
 of static imports. By using these, especially by applying lambda expressions
 and method references, a concise and easily understandable declaration of
 coroutines is possible.</p>

 <p>From the outside a coroutine is a function that receives an input value,
 processes it, and return an output value as the result of the execution. This
 is similar to the <code>Function</code> interface introduced with Java 8. If
 invoked <a href="../../../de/esoco/coroutine/Coroutine.html#runBlocking-de.esoco.coroutine.CoroutineScope-"><code>blocking</code></a> it will behave exactly
 like a standard function, blocking the current thread until the processing
 has finished and the result value has been produced. But if invoked <a href="../../../de/esoco/coroutine/Coroutine.html#runAsync-de.esoco.coroutine.CoroutineScope-"><code>asynchronously</code></a> the coroutine will be executed in
 parallel to the current thread, suspending it's execution shortly between
 processing steps or even pausing until data is available.</p>

 <p>Besides this Coroutine class there are a few other classes that play an
 important role in the execution of coroutines:</p>

 <ul>
   <li><a href="../../../de/esoco/coroutine/CoroutineContext.html" title="class in de.esoco.coroutine"><code>CoroutineContext</code></a>: coroutines run in a certain context. The
     context can either be provided explicitly or else the <a href="../../../de/esoco/coroutine/Coroutines.html#getDefaultContext--"><code>default context</code></a> is used. If different
     coroutines need to communicate during their execution they need to run in
     the same context. The context can also be used to provide configuration
     for the coroutines running in it.</li>
   <li><a href="../../../de/esoco/coroutine/CoroutineScope.html" title="class in de.esoco.coroutine"><code>CoroutineScope</code></a>: coroutines can only be launched inside a scope.
     The scope provides the runtime environment for an arbitrary number of
     coroutines. It also serves as a defined entry and exit-point into
     coroutine executions: a scope will block execution of the launching
     thread until all coroutines in it have finished execution (either
     successfully, by cancelation, or with an error). This follows the pattern
     of <i>structured concurrency</i> which prevents "forgotten" executions
     running in the background or terminating silently with an error. The
     scope also provides configuration and shared state for the coroutines in
     it, overriding any configuration in the context.</li>
   <li><a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine"><code>Continuation</code></a>: Every execution of a coroutine is associated with
     a continuation object that contains the current execution state. It is
     local to a single execution and thus not shared with other running
     instances of the same or other coroutines.</li>
   <li><a href="../../../de/esoco/coroutine/CoroutineStep.html" title="class in de.esoco.coroutine"><code>CoroutineStep</code></a>: The base for all steps that can be executed in a
     coroutine. Like the coroutine itself it is basically a function that
     receives an input value and produces a result. When executing
     asynchronously a step implementation can suspend it's execution by
     stopping the background execution completely until the condition that
     caused the suspension no longer exists (e.g. a resource becomes
     available). Several standard steps are defined in the 'step' sub-package
     but the base class can also be extended to create new kinds of coroutine
     steps.</li>
   <li><a href="../../../de/esoco/coroutine/Suspension.html" title="class in de.esoco.coroutine"><code>Suspension</code></a>: If a step signals to suspend it's asynchronous
     execution a suspension object is created. The suspension contains the
     suspended execution state, mainly by referencing the associated <a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine"><code>Continuation</code></a>. When the suspending condition is resolved the suspension
     can be used to resume the asynchronous execution of the coroutine.</li>
   <li><a href="../../../de/esoco/coroutine/Channel.html" title="class in de.esoco.coroutine"><code>Channel</code></a>: The previous classes are always involved when building
     and executing coroutines. Channels are an optional but important feature
     because they allow multiple coroutines to communicate without blocking
     their threads. A coroutine will automatically suspend it's execution if a
     channel that is used for receiving or sending has no data or capacity
     available. As soon as the channel becomes available again the coroutine
     will continue to run. Channels are managed by either the scope or the
     context the coroutine runs in. If coroutines in different scopes need to
     communicate through a channel their scopes need to have the same context
     and the channel must be created in the context (not in the scope which is
     the default).</li>
 </ul>

 <p>A coroutine can either be created by invoking the public <a href="../../../de/esoco/coroutine/Coroutine.html#Coroutine-de.esoco.coroutine.CoroutineStep-"><code>constructor</code></a> with the first <a href="../../../de/esoco/coroutine/CoroutineStep.html" title="class in de.esoco.coroutine"><code>CoroutineStep</code></a>
 to execute or by invoking the factory method <a href="../../../de/esoco/coroutine/Coroutine.html#first-de.esoco.coroutine.CoroutineStep-"><code>first(CoroutineStep)</code></a>.
 The latter allows to declare a coroutine in a fluent way with better
 readability. There is a slight limitation caused by the generic type system
 of Java: if the result of <a href="../../../de/esoco/coroutine/Coroutine.html#first-de.esoco.coroutine.CoroutineStep-"><code>first()</code></a> is assigned
 to a variable with a specific input type it may be necessary to declare the
 input type explicitly in the parameters of a lambda expression. For example,
 the following example (using a static import of first() may cause a compiler
 error (depending on the Java version used):</p>
 <code>Coroutine&lt;String, String&gt; toUpper = first(apply(s ->
 s.toUpperCase()));</code>

 <p>To make the code compile, the type of the lambda argument needs to be
 declared explicitly:</p>
 <code>Coroutine&lt;String, String&gt; toUpper = first(apply((String s) ->
 s.toUpperCase()));</code>

 <p>After a coroutine has been created it can be extended with additional
 steps by invoking the instance method <a href="../../../de/esoco/coroutine/Coroutine.html#then-de.esoco.coroutine.CoroutineStep-"><code>then(CoroutineStep)</code></a> on it.
 This method takes the next step to be executed and <b>returns a new coroutine
 instance</b>. This means that <b>coroutines are immutable</b>, i.e. they
 cannot be modified after they have been created. Only new coroutines can be
 created from them. This allows to declare coroutine templates which can be
 extended by adding additional processing steps without the risk of changing
 the original. Thus the <a href="../../../de/esoco/coroutine/Coroutine.html#first-de.esoco.coroutine.CoroutineStep-"><code>first()</code></a> and <a href="../../../de/esoco/coroutine/Coroutine.html#then-de.esoco.coroutine.CoroutineStep-"><code>then()</code></a> methods implement a builder pattern where each
 invocation creates a new coroutine instance.</p>

 <p>The immutability of coroutines initially only covers their code (i.e. the
 step sequence). The Coroutine class also extends <code>RelatedObject</code> and
 therefore allows to set arbitrary relations on it which can be used to
 configure step behavior or set default data, for example. To also make the
 relations of an instance immutable (basically sealing the coroutine template)
 just set the flag relation <code>IMMUTABLE</code> on it which
 will prevent the further modification of relations. This flag will not be
 copied on started coroutines (which are always a copy of the original
 coroutine). This allows to modify the instances of immutable coroutine
 templates.</p>

 <p>When a coroutine is executed a copy of it is created and then associated
 with a new <a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine"><code>Continuation</code></a> instance. That prevents running code to
 modify the coroutine (template) it has been started from but gives it access
 to any of it's relations. The actual runtime state is stored in the
 continuation object and may be modified freely by the coroutine code. It is
 recommended that coroutine steps use the continuation if they need to share
 data with other steps besides the standard input and output parameters.</p>

 <p>Accessing state in the continuation can be done without further
 synchronization because the steps in a coroutine are executed sequentially
 and never concurrently (unless stated otherwise by some special step
 implementations). But if steps access variables outside the continuation they
 must apply the same caution like other multi-threaded code in Java because
 access to such resource may (and will probably) need synchronization to avoid
 concurrency issues (which are notoriously difficult to debug). This includes
 <a href="../../../de/esoco/coroutine/CoroutineScope.html" title="class in de.esoco.coroutine"><code>CoroutineScope</code></a> and <a href="../../../de/esoco/coroutine/CoroutineContext.html" title="class in de.esoco.coroutine"><code>CoroutineContext</code></a> which are shared by
 multiple running coroutine instances. There are no synchronization mechanisms
 for access to the relations in these objects. If a step implementation wants
 to modify relations in the scope or context it must perform the necessary
 synchronization itself.</p>

 <p><b>Attention:</b> Any synchronization between coroutines should be applied
 with caution. Coroutines implement <b>cooperative multi-tasking</b> by
 executing their steps in a thread pool. These pools assume that the code
 running in a pool thread only occupies it as long as needed for the
 processing. Blocking such a thread in some way (like waiting for a lock,
 accessing a synchronized resource, or just sleeping) counteracts the purpose
 of the thread pool in particular and of cooperative multi-tasking in general.
 </p>

 <p>Therefore it is strongly advised to not perform "classical"
 synchronizations from coroutine steps. Instead it should be checked whether
 it is possible to implement this in a cooperative way by suspending the
 coroutine execution while waiting for a resource. This can be achieved by
 using an asynchronous API for accessing a resource, like that provided by the
 java.nio package (see the sub-package 'step.nio' for examples).</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/coroutine/Coroutine.Subroutine.html" title="class in de.esoco.coroutine">Coroutine.Subroutine</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.Subroutine.html" title="type parameter in Coroutine.Subroutine">I</a>,<a href="../../../de/esoco/coroutine/Coroutine.Subroutine.html" title="type parameter in Coroutine.Subroutine">T</a>,<a href="../../../de/esoco/coroutine/Coroutine.Subroutine.html" title="type parameter in Coroutine.Subroutine">O</a>&gt;</span></code>
<div class="block">A coroutine subclass for the invocation of coroutines as subroutines in
 the context of another execution.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../de/esoco/coroutine/Coroutine.html#Coroutine-de.esoco.coroutine.CoroutineStep-">Coroutine</a></span>(<a href="../../../de/esoco/coroutine/CoroutineStep.html" title="class in de.esoco.coroutine">CoroutineStep</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">I</a>,<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>&gt;&nbsp;rFirstStep)</code>
<div class="block">Creates a new instance that starts execution with a certain step.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;I,O&gt;&nbsp;<a href="../../../de/esoco/coroutine/Coroutine.html" title="class in de.esoco.coroutine">Coroutine</a>&lt;I,O&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/coroutine/Coroutine.html#first-de.esoco.coroutine.CoroutineStep-">first</a></span>(<a href="../../../de/esoco/coroutine/CoroutineStep.html" title="class in de.esoco.coroutine">CoroutineStep</a>&lt;I,O&gt;&nbsp;rStep)</code>
<div class="block">A factory method that creates a new coroutine which starts with the
 execution of a certain code function.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;I,O&gt;&nbsp;<a href="../../../de/esoco/coroutine/Coroutine.html" title="class in de.esoco.coroutine">Coroutine</a>&lt;I,O&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/coroutine/Coroutine.html#first-java.lang.String-de.esoco.coroutine.CoroutineStep-">first</a></span>(java.lang.String&nbsp;sStepName,
     <a href="../../../de/esoco/coroutine/CoroutineStep.html" title="class in de.esoco.coroutine">CoroutineStep</a>&lt;I,O&gt;&nbsp;rStep)</code>
<div class="block">A variant of <a href="../../../de/esoco/coroutine/Coroutine.html#first-de.esoco.coroutine.CoroutineStep-"><code>first(CoroutineStep)</code></a> that also sets an explicit
 step name.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine">Continuation</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/coroutine/Coroutine.html#runAsync-de.esoco.coroutine.CoroutineScope-">runAsync</a></span>(<a href="../../../de/esoco/coroutine/CoroutineScope.html" title="class in de.esoco.coroutine">CoroutineScope</a>&nbsp;rScope)</code>
<div class="block">Runs a copy of this coroutine asynchronously in the given scope with an
 input value of NULL.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine">Continuation</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/coroutine/Coroutine.html#runAsync-de.esoco.coroutine.CoroutineScope-I-">runAsync</a></span>(<a href="../../../de/esoco/coroutine/CoroutineScope.html" title="class in de.esoco.coroutine">CoroutineScope</a>&nbsp;rScope,
        <a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">I</a>&nbsp;rInput)</code>
<div class="block">Runs a copy of this coroutine asynchronously in a certain scope.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine">Continuation</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/coroutine/Coroutine.html#runBlocking-de.esoco.coroutine.CoroutineScope-">runBlocking</a></span>(<a href="../../../de/esoco/coroutine/CoroutineScope.html" title="class in de.esoco.coroutine">CoroutineScope</a>&nbsp;rScope)</code>
<div class="block">Runs a copy of this coroutine in the given scope with an input value of
 NULL and blocks the current thread until the coroutine finished.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine">Continuation</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/coroutine/Coroutine.html#runBlocking-de.esoco.coroutine.CoroutineScope-I-">runBlocking</a></span>(<a href="../../../de/esoco/coroutine/CoroutineScope.html" title="class in de.esoco.coroutine">CoroutineScope</a>&nbsp;rScope,
           <a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">I</a>&nbsp;rInput)</code>
<div class="block">Runs a copy of this coroutine in a certain scope and blocks the current
 thread until the coroutine finished.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../de/esoco/coroutine/Coroutine.html" title="class in de.esoco.coroutine">Coroutine</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">I</a>,T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/coroutine/Coroutine.html#then-de.esoco.coroutine.CoroutineStep-">then</a></span>(<a href="../../../de/esoco/coroutine/CoroutineStep.html" title="class in de.esoco.coroutine">CoroutineStep</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>,T&gt;&nbsp;rStep)</code>
<div class="block">Returns a new coroutine that executes additional code after that of this
 instance.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../de/esoco/coroutine/Coroutine.html" title="class in de.esoco.coroutine">Coroutine</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">I</a>,T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/coroutine/Coroutine.html#then-java.lang.String-de.esoco.coroutine.CoroutineStep-">then</a></span>(java.lang.String&nbsp;sStepName,
    <a href="../../../de/esoco/coroutine/CoroutineStep.html" title="class in de.esoco.coroutine">CoroutineStep</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>,T&gt;&nbsp;rStep)</code>
<div class="block">A variant of <a href="../../../de/esoco/coroutine/Coroutine.html#then-de.esoco.coroutine.CoroutineStep-"><code>then(CoroutineStep)</code></a> that also sets an explicit step
 name.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/esoco/coroutine/Coroutine.html#toString--">toString</a></span>()</code></td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.obrel.core.RelatedObject">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.obrel.core.RelatedObject</h3>
<code>deleteRelation, get, getRelation, getRelations, notifyRelationListeners, readRelations, relationsEqual, relationsHashCode, relationsString, set, set, transform, writeRelations</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.obrel.core.FluentRelatable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.obrel.core.FluentRelatable</h3>
<code>with, with, with</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.obrel.core.Relatable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.obrel.core.Relatable</h3>
<code>deleteRelation, deleteRelation, deleteRelations, get, get, get, getAll, getRelation, getRelationCount, getRelations, getRelations, hasFlag, hasRelation, hasRelations, init, set, set, set, set, set, streamRelations, transform</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.de.esoco.lib.property.Fluent">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;de.esoco.lib.property.Fluent</h3>
<code>_with</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Coroutine-de.esoco.coroutine.CoroutineStep-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Coroutine</h4>
<pre>public&nbsp;Coroutine(<a href="../../../de/esoco/coroutine/CoroutineStep.html" title="class in de.esoco.coroutine">CoroutineStep</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">I</a>,<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>&gt;&nbsp;rFirstStep)</pre>
<div class="block">Creates a new instance that starts execution with a certain step.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rFirstStep</code> - The first step to execute</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="first-de.esoco.coroutine.CoroutineStep-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>first</h4>
<pre>public static&nbsp;&lt;I,O&gt;&nbsp;<a href="../../../de/esoco/coroutine/Coroutine.html" title="class in de.esoco.coroutine">Coroutine</a>&lt;I,O&gt;&nbsp;first(<a href="../../../de/esoco/coroutine/CoroutineStep.html" title="class in de.esoco.coroutine">CoroutineStep</a>&lt;I,O&gt;&nbsp;rStep)</pre>
<div class="block">A factory method that creates a new coroutine which starts with the
 execution of a certain code function.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rStep</code> - fCode The function containing the starting code of the
               coroutine</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new coroutine instance</dd>
</dl>
</li>
</ul>
<a name="first-java.lang.String-de.esoco.coroutine.CoroutineStep-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>first</h4>
<pre>public static&nbsp;&lt;I,O&gt;&nbsp;<a href="../../../de/esoco/coroutine/Coroutine.html" title="class in de.esoco.coroutine">Coroutine</a>&lt;I,O&gt;&nbsp;first(java.lang.String&nbsp;sStepName,
                                         <a href="../../../de/esoco/coroutine/CoroutineStep.html" title="class in de.esoco.coroutine">CoroutineStep</a>&lt;I,O&gt;&nbsp;rStep)</pre>
<div class="block">A variant of <a href="../../../de/esoco/coroutine/Coroutine.html#first-de.esoco.coroutine.CoroutineStep-"><code>first(CoroutineStep)</code></a> that also sets an explicit
 step name. Naming steps can help debugging coroutines.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sStepName</code> - A name that identifies this step in this coroutine</dd>
<dd><code>rStep</code> - The step to execute</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The new coroutine</dd>
</dl>
</li>
</ul>
<a name="runAsync-de.esoco.coroutine.CoroutineScope-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runAsync</h4>
<pre>public&nbsp;<a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine">Continuation</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>&gt;&nbsp;runAsync(<a href="../../../de/esoco/coroutine/CoroutineScope.html" title="class in de.esoco.coroutine">CoroutineScope</a>&nbsp;rScope)</pre>
<div class="block">Runs a copy of this coroutine asynchronously in the given scope with an
 input value of NULL.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rScope</code> - The scope to run in</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine"><code>Continuation</code></a> that provides access to the execution
         result</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../de/esoco/coroutine/Coroutine.html#runAsync-de.esoco.coroutine.CoroutineScope-I-"><code>runAsync(CoroutineScope, Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="runAsync-de.esoco.coroutine.CoroutineScope-java.lang.Object-">
<!--   -->
</a><a name="runAsync-de.esoco.coroutine.CoroutineScope-I-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runAsync</h4>
<pre>public&nbsp;<a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine">Continuation</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>&gt;&nbsp;runAsync(<a href="../../../de/esoco/coroutine/CoroutineScope.html" title="class in de.esoco.coroutine">CoroutineScope</a>&nbsp;rScope,
                                <a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">I</a>&nbsp;rInput)</pre>
<div class="block">Runs a copy of this coroutine asynchronously in a certain scope. This
 method returns a <a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine"><code>Continuation</code></a> that contains the execution state
 and provides access to the coroutine result AFTER it finishes. Because
 the execution happens asynchronously (i.e. in another thread) the
 receiving code must always use the corresponding continuation methods to
 check for completion before accessing the continuation state.

 <p>Because a copy of this coroutine is executed, the continuation also
 references the copy and not this instance. If the running code tries to
 modify state of the coroutine it will only modify the copy, not the
 original instance.</p>

 <p>If multiple coroutines need to communicate through <a href="../../../de/esoco/coroutine/Channel.html" title="class in de.esoco.coroutine"><code>channels</code></a> they must run in the same context because channels are managed
 by the context based on the channel ID.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rScope</code> - The scope to run in</dd>
<dd><code>rInput</code> - The input value</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine"><code>Continuation</code></a> that provides access to the execution
         result</dd>
</dl>
</li>
</ul>
<a name="runBlocking-de.esoco.coroutine.CoroutineScope-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runBlocking</h4>
<pre>public&nbsp;<a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine">Continuation</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>&gt;&nbsp;runBlocking(<a href="../../../de/esoco/coroutine/CoroutineScope.html" title="class in de.esoco.coroutine">CoroutineScope</a>&nbsp;rScope)</pre>
<div class="block">Runs a copy of this coroutine in the given scope with an input value of
 NULL and blocks the current thread until the coroutine finished.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rScope</code> - The scope to run in</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine"><code>Continuation</code></a> that provides access to the execution
         result</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../de/esoco/coroutine/Coroutine.html#runBlocking-de.esoco.coroutine.CoroutineScope-I-"><code>runBlocking(CoroutineScope, Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="runBlocking-de.esoco.coroutine.CoroutineScope-java.lang.Object-">
<!--   -->
</a><a name="runBlocking-de.esoco.coroutine.CoroutineScope-I-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runBlocking</h4>
<pre>public&nbsp;<a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine">Continuation</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>&gt;&nbsp;runBlocking(<a href="../../../de/esoco/coroutine/CoroutineScope.html" title="class in de.esoco.coroutine">CoroutineScope</a>&nbsp;rScope,
                                   <a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">I</a>&nbsp;rInput)</pre>
<div class="block">Runs a copy of this coroutine in a certain scope and blocks the current
 thread until the coroutine finished. Returns a <a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine"><code>Continuation</code></a> that
 contains the execution state and provides access to the coroutine result.

 <p>Because a copy of this coroutine is executed, the continuation also
 references the copy and not this instance. If the running code tries to
 modify state of the coroutine it will only modify the copy, not the
 original instance.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rScope</code> - The scope to run in</dd>
<dd><code>rInput</code> - The input value</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine"><code>Continuation</code></a> that provides access to the execution
         result</dd>
</dl>
</li>
</ul>
<a name="then-de.esoco.coroutine.CoroutineStep-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>then</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;<a href="../../../de/esoco/coroutine/Coroutine.html" title="class in de.esoco.coroutine">Coroutine</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">I</a>,T&gt;&nbsp;then(<a href="../../../de/esoco/coroutine/CoroutineStep.html" title="class in de.esoco.coroutine">CoroutineStep</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>,T&gt;&nbsp;rStep)</pre>
<div class="block">Returns a new coroutine that executes additional code after that of this
 instance. This and the related methods implement a builder pattern for
 coroutines. The initial coroutine is created with the first step, either
 from the static factory methods like <a href="../../../de/esoco/coroutine/Coroutine.html#first-de.esoco.coroutine.CoroutineStep-"><code>first(CoroutineStep)</code></a> or
 with the public constructor. Invoking a builder method creates a new
 coroutine with the combined code while the original coroutine remains
 unchanged (or is discarded in the case of a builder chain).

 <p>Each invocation of a builder method creates a coroutine suspension
 point at which the execution will be interrupted to allow other code to
 run on the current thread (e.g. another coroutine). Some steps may
 suspend the execution until values from another coroutine or some
 external source become available.</p>

 <p>An extended coroutine re-uses the original code of the coroutine it is
 derived from. Therefore it is necessary to ensure that the code in shared
 (base) coroutines contains no external dependencies that could change the
 behavior of all derived coroutines if modified (unless desired, but
 beware of side-effects). The best way to achieve this is by using
 correctly defined closures when declaring step. If steps need to share
 information during execution that can be achieved by setting relations on
 the <a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine"><code>Continuation</code></a> which is always local to the respective
 execution.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rStep</code> - The step to execute</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The new coroutine</dd>
</dl>
</li>
</ul>
<a name="then-java.lang.String-de.esoco.coroutine.CoroutineStep-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>then</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;<a href="../../../de/esoco/coroutine/Coroutine.html" title="class in de.esoco.coroutine">Coroutine</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">I</a>,T&gt;&nbsp;then(java.lang.String&nbsp;sStepName,
                               <a href="../../../de/esoco/coroutine/CoroutineStep.html" title="class in de.esoco.coroutine">CoroutineStep</a>&lt;<a href="../../../de/esoco/coroutine/Coroutine.html" title="type parameter in Coroutine">O</a>,T&gt;&nbsp;rStep)</pre>
<div class="block">A variant of <a href="../../../de/esoco/coroutine/Coroutine.html#then-de.esoco.coroutine.CoroutineStep-"><code>then(CoroutineStep)</code></a> that also sets an explicit step
 name. Naming steps can help debugging coroutines.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sStepName</code> - A name that identifies this step in this coroutine</dd>
<dd><code>rStep</code> - The step to execute</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The new coroutine</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>org.obrel.core.RelatedObject</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../de/esoco/coroutine/Continuation.html" title="class in de.esoco.coroutine"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../de/esoco/coroutine/Coroutine.Subroutine.html" title="class in de.esoco.coroutine"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?de/esoco/coroutine/Coroutine.html" target="_top">Frames</a></li>
<li><a href="Coroutine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
